@model Lab13.Models.CalculatorModel
@{
    ViewData["Title"] = "Calculator";
}
<h2>Calculator</h2>

<form asp-action="Index" method="post">
    <div class="mb-3">
        <label asp-for="A" class="form-label"></label>
        <input asp-for="A" class="form-control" type="number" />
        <span asp-validation-for="A" class="text-danger"></span>
    </div>
    <div class="mb-3">
        <label asp-for="B" class="form-label"></label>
        <input asp-for="B" class="form-control" type="number" />
        <span asp-validation-for="B" class="text-danger"></span>
    </div>

    <button type="submit" class="btn btn-primary">Обчислити</button>
</form>

@if (ViewBag.ModelErrors != null)
{
    <div class="alert alert-warning">
        <ul>
            @foreach (var err in (List<string>)ViewBag.ModelErrors)
            {
                <li>@err</li>
            }
        </ul>
    </div>
}

<div>
    @Html.ValidationSummary(true, "", new { @class = "text-danger" })
</div>

@if (Model != null)
{
    <hr />
    <p>Sum: <strong>@Model.Sum</strong></p>
    <p>
        Division:
        @if (Model.DivisionSuccess)
        {
            <strong>@Model.DivisionResult</strong>
        }
        else
        {
            <span class="text-danger">@Model.DivisionMessage</span>
        }
    </p>
}

@* Діагностика: показати що прийшло на сервер *@
@if (ViewBag.ReceivedA != null)
{
    <div class="mt-3">
        <small class="text-muted">Received A: @ViewBag.ReceivedA, Received B: @ViewBag.ReceivedB, ModelState valid: @ViewBag.ModelStateValid</small>
    </div>
}
