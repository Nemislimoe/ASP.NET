@page "{id:int}"
@model Lab7.Pages.Participants.DetailsModel
@{
    ViewData["Title"] = "Participant Details";
}

<h2>@Model.Participant.FullName</h2>
<p><strong>Email:</strong> @Model.Participant.Email</p>

<h3>Registered Events</h3>
@if (Model.Participant.EventParticipants == null || !Model.Participant.EventParticipants.Any())
{
    <p>No registered events.</p>
}
else
{
    <ul>
        @foreach (var ep in Model.Participant.EventParticipants)
        {
            <li>
                <a asp-page="/Events/Details" asp-route-id="@ep.EventId">@ep.Event.Title</a>
                — @ep.Event.Date.ToString("yyyy-MM-dd") (@ep.Event.Location)
            </li>
        }
    </ul>
}

<p>
    <a asp-page="/Participants/Edit" asp-route-id="@Model.Participant.Id">Edit</a> |
    <a asp-page="/Participants/Delete" asp-route-id="@Model.Participant.Id">Delete</a> |
    <a asp-page="/Participants/Create">Create new</a> |
    <a asp-page="/Index">Home</a>
</p>
