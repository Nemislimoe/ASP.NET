@model IEnumerable<Lab8.Models.TodoItem>
@{
    ViewData["Title"] = "Todo List";
}
<h1>Todo List</h1>

<form asp-action="Add" method="post" class="mb-3 d-flex">
    <input name="title" class="form-control me-2" placeholder="New task..." />
    <button class="btn btn-primary" type="submit">Add</button>
</form>

@if (!Model.Any())
{
    <p>No tasks yet.</p>
}
<ul class="list-group">
    @foreach (var item in Model)
    {
        <li class="list-group-item d-flex justify-content-between align-items-center">
            <div>
                @if (item.IsCompleted)
                {
                    <s>@item.Title</s>
                }
                else
                {
                    @item.Title
                }
            </div>
            <form asp-action="ToggleComplete" method="post" class="m-0">
                <input type="hidden" name="id" value="@item.Id" />
                <button class="btn btn-sm @(item.IsCompleted ? "btn-warning" : "btn-success")" type="submit">
                    @(item.IsCompleted ? "Mark incomplete" : "Complete")
                </button>
            </form>
        </li>
    }
</ul>
